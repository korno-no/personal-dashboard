<header class="panel">
  <h1>Habits Tracker</h1>
  <app-button [label]="'Add new habit'"></app-button>
</header>

<app-week-selector [firstDayOfWeek]="firstDayOfWeek" (weekChange)="onWeekChange($event)"></app-week-selector>


<table class="habits-table panel">

    <tr  class="habits-row habits-header">
      <th class="habit-name">Habit</th>
      <th class="habit-day">Sun</th>
      <th class="habit-day">Mon</th>
      <th class="habit-day">Tue</th>
      <th class="habit-day">Wed</th>
      <th class="habit-day">Thu</th>
      <th class="habit-day">Fri</th>
      <th class="habit-day">Sat</th>
    </tr>

    <!-- 
                [(ngModel)]="task.isDone" 
                (change)="onSaveEditTask(task.id)" -->
  @for(habit of habits;  track $index){
  <tr class="habits-row habit-item">
    <td class="habit-name">{{ habit.name }}</td>
    @for(check of habit.weekChecks;  track $index){
    <td>
      <label class="checkbox">
        <input
          [(ngModel)]="habit.weekChecks[$index]"
          (change)="onHabitCheckChange(habit.id, $index)"
          type="checkbox"
          name="is-done"
          />
        <span></span>
      </label>
    </td>
    }
  }
</table>

<div>
  <label for="newHabit">Name: </label>
  <input 
    [(ngModel)]="newHabit"
    type="text"
    class="input input_edit-task"
    name="newHabit" 
  >
  <app-button [label]="'Add Habit'" (click)="createHabit()"></app-button>
  <app-button [label]="'Cancel'"></app-button>
</div>